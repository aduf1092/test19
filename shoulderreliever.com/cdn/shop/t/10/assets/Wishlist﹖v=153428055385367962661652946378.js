(function(Wishlist,$){var $wishlistButton=$(".wishlist-btn"),$addcartButton=$(".is-add-cart"),$wishlistTile=$(".wishlist-container"),numProductTiles=$wishlistTile.length,wishlist=localStorage.getItem("user_wishlist")||[];wishlist.length>0&&(wishlist=JSON.parse(localStorage.getItem("user_wishlist")));var animateWishlist=function(self){$(self).toggleClass("is-active")},updateWishlist=function(self){var productHandle=$(self).attr("data-product-handle"),productId=$(self).attr("data-product-id"),isRemove=$(self).hasClass("is-active"),isaddCart=$(self).hasClass("is-add-cart");if(isRemove){var removeIndex=wishlist.indexOf(productHandle);wishlist.splice(removeIndex,1),localStorage.setItem("user_wishlist",JSON.stringify(wishlist)),toastr.info("Product removed from wishlist."),$(self).closest("tbody").animate({"line-height":0},1500).hide(1)}else if(isaddCart){cart.add(productId);var removeIndex=wishlist.indexOf(productHandle);wishlist.splice(removeIndex,1),localStorage.setItem("user_wishlist",JSON.stringify(wishlist)),$(self).closest("tbody").animate({"line-height":0},1500).hide(1)}else wishlist.push(productHandle),localStorage.setItem("user_wishlist",JSON.stringify(wishlist)),toastr.success("Product added to wishlist.")},activateItemsInWishlist=function(){$wishlistButton.each(function(){var productHandle=$(this).attr("data-product-handle");wishlist.indexOf(productHandle)>-1&&$(this).addClass("is-active")})},displayOnlyWishlistItems=function(){$wishlistTile.each(function(){var productHandle=$(this).attr("data-product-handle");wishlist.indexOf(productHandle)===-1&&($(this).remove(),numProductTiles--)})},loadWishlist=function(){window.top.location.href.indexOf("pages/wishlist")>-1&&(displayOnlyWishlistItems(),$(".wishlist-loader").fadeOut(2e3,function(){$(".wishlist-product").show(),numProductTiles==0?($(".wishlist-empty").show(),$(".wishlist-head").hide()):$(".wishlist-empty").hide()}))},bindUIActions=function(){$wishlistButton.click(function(e){e.preventDefault(),updateWishlist(this),animateWishlist(this)}),$addcartButton.click(function(e){e.preventDefault(),updateWishlist(this),animateWishlist(this)})};Wishlist.init=function(){bindUIActions(),activateItemsInWishlist(),loadWishlist()}})(window.Wishlist=window.Wishlist||{},jQuery,void 0);
//# sourceMappingURL=/cdn/shop/t/10/assets/Wishlist.js.map?v=153428055385367962661652946378
